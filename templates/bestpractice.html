{% extends "base.html" %}
{% block content %}
<h1>Best practice</h1>
<p>A database-driven list of best practice examples (blogs, web pages, socials, videos, etc).</p>

<form method="get" action="{{ url_for('bestpractice') }}" class="admin-search">
  <input type="text" name="search" placeholder="Search by title or description" value="{{ search or '' }}">
  <select name="type">
    <option value="">Any type</option>
    {% for t in types %}
      <option value="{{ t }}" {% if t == type_filter %}selected{% endif %}>{{ t }}</option>
    {% endfor %}
  </select>
  <button type="submit">Search</button>
</form>

<h2>Results</h2>
<ul class="bestpractice-list">
  {% for row in results %}
    <li>
      {% if row.URL %}
        <a href="{{ row.URL }}" target="_blank">{{ row.Title }}</a>
      {% else %}
        {{ row.Title }}
      {% endif %}
      {% if row.Description %}
        <div class="bestpractice-subinfo">{{ row.Description }}</div>
      {% endif %}
    </li>
  {% endfor %}
</ul>
{% endblock %}

